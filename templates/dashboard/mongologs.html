{% extends 'base.html' %}
{% block title %}Dashboard > MongoDBLog{% endblock %}
{% block head %}
    <link rel="stylesheet" href="/static/css/dashboard.css">
{% endblock %}

{% block body %}
    <div class="container pt-5 my-3 p-3 one-dark-dashboard-bg rounded shadow-sm small text-monospace one-dark-text-white">

        {% include 'dashboard/navbar.html' %}

        <div>
        {% for log in mongo_log %}
            <details>
                <summary>
                    <span class="one-dark-text-purple">[{{ log.date }}]</span>
                    {% if log.status == 'error' %}
                        <span class="one-dark-text-red">[_{{ log.status }}_]</span>
                    {% else %}
                        <span class="one-dark-text-green">[{{ log.status }}]</span>
                    {% endif %}
                    {% set url = log.uri.split('?') %}
                    <span class="one-dark-text-blue">[{{ url[0] }}] - </span> <span>{{ log.message }}</span> <br />
                </summary>
                {% for k, v in log.items() %}
                    <span class="one-dark-text-orange">{{ k }}:</span> {{ v }} <br />
                {% endfor %}
            </details>
        {% endfor %}
        </div>
    </div>
{% endblock %}
